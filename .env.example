# Cloud Code Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED FOR STARTUP
# =============================================================================

# Secret key for encryption (generate with: python -c "import secrets; print(secrets.token_hex(32))")
SECRET_KEY=your-secret-key-here

# PostgreSQL connection URL
DATABASE_URL=postgresql://cloudcode:cloudcode@localhost:5432/cloudcode

# Redis URL (for task queue)
REDIS_URL=redis://localhost:6379

# =============================================================================
# VAULT (Credential Management)
# =============================================================================

# HashiCorp Vault URL
VAULT_URL=http://vault:8200

# Vault token (for dev, use root token; for prod, use AppRole)
VAULT_TOKEN=dev-token

# =============================================================================
# GITHUB APP (Configured via Web UI, stored in Vault)
# =============================================================================

# GitHub App slug name (used for installation URL)
GITHUB_APP_NAME=cloud-code

# Legacy: Direct token (not recommended, use GitHub App instead)
# GITHUB_TOKEN=ghp_...
# GITHUB_WEBHOOK_SECRET=your-webhook-secret

# =============================================================================
# CLI API KEYS (Configured via Web UI, stored in Vault)
# =============================================================================

# These can be set here as fallback, but prefer configuring via Web UI
# which stores them securely in Vault

# Anthropic API key (for Claude Code, Aider)
# ANTHROPIC_API_KEY=sk-ant-api03-...

# OpenAI API key (for Codex, Aider)
# OPENAI_API_KEY=sk-...

# Google API key (for Gemini)
# GOOGLE_API_KEY=AIza...

# =============================================================================
# AGENT SETTINGS
# =============================================================================

# Default coding CLI to use
DEFAULT_CODING_CLI=claude-code

# Default Claude model
DEFAULT_MODEL=claude-sonnet-4-20250514

# Maximum retry attempts for failed tasks
MAX_TASK_ATTEMPTS=3

# Maximum time for agent execution (seconds)
AGENT_TIMEOUT_SECONDS=3600

# Workspace directory for git clones
WORKSPACES_PATH=/var/cloud-code/workspaces

# =============================================================================
# WEB SERVER
# =============================================================================

# Debug mode (enables hot reload, verbose logging)
DEBUG=false

# Web server binding
HOST=0.0.0.0
PORT=8000
